---
import Layout from "../layouts/Layout.astro";
import myBackground from "../assets/images/bg_DSC_3244.jpg";

import { getImage } from "astro:assets";
const optimizedBackground = await getImage({ src: myBackground });

const myPhoneNumber = "0040746339070";
const textMessage =
  "Salut, imi face placere sa particip la nunta voastra, vom fi ?? persoane";
const whatsappUrl = `https://wa.me/${myPhoneNumber}?text=${encodeURIComponent(textMessage)}`;
const smsUrl = `sms:${myPhoneNumber}?&body=${textMessage}`;
---

<Layout title="Andreea & Razvan ">
  <header
    data-bg="false"
    id="header"
    class="fixed top-0 z-40 w-full bg-black bg-opacity-0 data-[bg=true]:bg-opacity-40 data-[bg=true]:shadow-md"
  >
    <div class="m-4 flex justify-end">
      <a class="mr-4" href="#confirmare">
        <button
          class="w-32 rounded-md bg-black bg-opacity-60 p-2 text-white hover:bg-opacity-100"
        >
          Confirmare
        </button>
      </a>
      <a class="mr-4" href="#location">
        <button
          class="w-32 rounded-md bg-black bg-opacity-60 p-2 text-white hover:bg-opacity-100"
        >
          Locatie
        </button>
      </a>
    </div>
  </header>
  <main class="mb-16 space-y-2">
    <section
      id="intro"
      style={`background-image: url(${optimizedBackground.src});`}
      class="flex min-h-screen items-center justify-center bg-cover bg-bottom"
    >
      <div class="relative m-6 flex">
        <div
          class="absolute h-full w-full rounded-md bg-black opacity-30 shadow-md"
        >
        </div>
        <div
          class="z-10 p-6 text-center text-4xl font-bold text-white md:text-5xl"
        >
          <h1 class="fancy slideInLeft">Andreea</h1>
          <h1 class="extra-fancy">&</h1>
          <h1 class="fancy slideInRight">Razvan</h1>
          <h2 class="fancy mt-6 text-[.6em]">
            We are getting married! Join us in our celebration.
          </h2>
          <h1 class="fancy mt-8">June 15th, 2024</h1>
        </div>
      </div>
    </section>

    <section id="confirmare" class="m-10">
      <h3 class="mb-6 mt-10 text-3xl">
        Va rog sa confirmati participare pana in data de 31.05.2024 ( final de
        Mai )
      </h3>
      <div class="flex justify-around items-center">
      <a href={whatsappUrl} target="_blank">
        <button
          class="w-64 rounded-md bg-black bg-opacity-80 p-2 text-white hover:bg-opacity-100 md:text-xl"
        >
          Confirmare WhatsApp
        </button>
      </a>
      <a href={smsUrl}>
        <button
          class="w-48 rounded-md bg-black bg-opacity-80 p-2 text-white hover:bg-opacity-100 md:text-xl"
        >
        Confirmare SMS
        </button>
        </a>
      </div>
    </section>
    <section id="location">
      <h3 class="mb-6 mt-10 text-center text-3xl">
        Locatia biserica - ora 19:00
      </h3>
      <iframe
        class="m-auto w-2/3"
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2688.0157427855984!2d24.714475728848473!3d47.64526091174898!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47366d186c5c8ea5%3A0x1e6f3a22ce76dc45!2sBiserica%20Sfin%C8%9Bii%20Apostoli!5e0!3m2!1sen!2sro!4v1711996516648!5m2!1sen!2sro"
        width="300"
        height="400"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
      <h3 class="mb-6 mt-10 text-center text-3xl">
        Locatia sala de evenimente- ora 20:00
      </h3>
      <iframe
        class="m-auto w-2/3"
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2688.549904501131!2d24.735884776958727!3d47.63487987119234!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47366d5b50c99e21%3A0xf75d93b874f860fd!2sHotel%20Nord!5e0!3m2!1sen!2sro!4v1711996262136!5m2!1sen!2sro"
        width="300"
        height="400"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
    </section>
  </main>
  <div class="fixed bottom-10 right-10">
    <a class="inline" href="#intro">
      <button
        id="scrollUpBtn"
        class="hidden w-24 rounded-md bg-black bg-opacity-60 p-2 text-white hover:bg-opacity-100 md:text-xl"
        >Up</button
      >
    </a>
  </div>
</Layout>

<style></style>
<script>
  // Get a reference to the scroll up button
  const scrollUpBtn = document.getElementById("scrollUpBtn");

  function upButton() {
    if (!scrollUpBtn) return;
    // Check if the user has scrolled down a certain amount (e.g., 100 pixels)
    if (window.scrollY > 200) {
      // If scrolled down, show the scroll up button
      scrollUpBtn.style.display = "block";
    } else {
      // If not scrolled down enough, hide the scroll up button
      scrollUpBtn.style.display = "none";
    }
  }
  const header = document.getElementById("header");
  function headerEffect() {
    if (!header) return;
    // Check if the user has scrolled down a certain amount (e.g., 100 pixels)
    if (window.scrollY > 200) {
      // If scrolled down, show the scroll up button
      header.setAttribute("data-bg", "true");
    } else {
      // If not scrolled down enough, hide the scroll up button
      header.setAttribute("data-bg", "false");
    }
  }
  // Add a scroll event listener to the window
  window.addEventListener("scroll", function () {
    upButton();
    headerEffect();
  });
</script>
